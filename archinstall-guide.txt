BIOS CARTE MÈRE
boot    uefi
fast    boot disable
csm     other os

AU BOOT DE LA CLÉ USB :
taper e
taper nomodeset avant la commande lançant le noyau
VÉRIFIER LE RÉSEAU AVEC 
ping -c 3 www.free.fr
vérification des paramètres uefi chargé
# efivar -l

pacman -S vim terminus-font git
setfont ter-v32n  # cas d'une police illisible car trop petite avec un grand écran

partitionement du disque en gpt
# gdisk /dev/sda
première partition 512 Mio en fat32 EF00
2ème swap (sur disque ssd oui oui) avec l'option discard (à voir si je fais ça ou pas)
on peut taper les tailles directement en GiB, par exemple 24 GiB avec cgdisk)
3ème root / disons 20 GiB
4ème /home le reste
puis reboot sur la clé
recommencer e + nomodeset initrd ....
setfont ter-v32n
formater les partitions précédemment créées (mkfs.vfat -F32 /dev/sda1)
monter les partitions précédemment formatées
choix des mirroirs
cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bak
sed -i 's/#Server/Server/' /etc/pacman.s/mirrorlist.bak (ou bien avec vim)
rankmirrors -n 6 /etc/pacman.d/mirrorlist.bak > /etc/pacman.d/mirrorlist
(ça peut prendre un certain temps)
pacstrap -i /mnt base base-devel vim git efibootmgr terminus-font 
genfstab -U -p /mnt >> /mnt/etc/fstab
arch-chroot /mnt
echo "i7-6700k" > /etc/hostname
echo 'fr_FR.UTF-8 UTF-8' > /etc/locale.gen
locale-gen
echo 'LANG=fr_FR.UTF-8' > /etc/locale.conf
export LANG=fr_FR.UTF-8
echo 'KEYMAP=fr-pc' > /etc/vconsole.conf
rm -f /etc/localtime
ln -s /usr/share/zoneinfo/Europe/Paris /etc/localtime
hwclock --systohc --utc
mkinitcpio -p linux
/*
éditer pacman.conf et décommenter le dépôt multilib 2 lignes /* pas obligé */
Siglevel = Never
Server = repo ...
*/

pacman -Suy
passwd
useradd -m -g users -G wheel,storage,power -s /bin/bash username
passwd username
EDITOR = nano(ou vim) visudo

pacman -S bash-completion
vérifier le bon montage des var efi :
mount -t efivars efivars /sys/firmware/efi/efivars
bootcl install
blkid -s PARTUUID -o value /dev/sda3

éditer le fichier loader.conf dans le répertoire /boot/loader/entries et y mettre :
default   arch
timeout   3
editer le fichier /boot/loader/entries/arch.conf et y mettre :
title    archlinux
linux    /vmlinuz-linux
initrd   /initramfs-linux.img
option   root=/PARTUUID=....      rw

ou bien
efibootmgr -c -l /vmlinuz-linux -u "root=/dev/sda2 initrd=/initramfs-linux.img"  à adapter à ton install
systemctl enable lxdm dhcpcd

rebooter sur la clé, remonter les partitions, pacstraper
installer le serveur graphique
pacman -S xorg-server xorg-xinit
installer nvidia :
pacman -S nvidia nvidia-libgl nvidia-utils nvidia-settings lxdm

Rebooter,  enlever la clé, enjoy.
